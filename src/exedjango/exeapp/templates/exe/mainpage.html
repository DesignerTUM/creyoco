{% extends "base.html" %}

{% load mainpage_extras %}
{% load authoring_extras %}

{% load static %}

{% block title %}{{ package.title }}{% endblock %}

{% block head_javascript %}
<script type="text/javascript" src="{% get_static_prefix %}scripts/jquery.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}scripts/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}scripts/mainpage.js"></script>
<script type='text/javascript' src="{% get_static_prefix %}scripts/jquery.jsonrpc.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}scripts/common.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}scripts/jquery.form.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}scripts/jquery.cookie.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}scripts/jquery.jstree.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}scripts/jquery.confirm.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}scripts/jquery.qtip.min.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}scripts/chosen.jquery.min.js"></script>
<script type="text/javascript" src="{% get_static_prefix %}scripts/eyecandy.js"></script>
{% render_form_media package.current_node %}
{% endblock %}

{% block header %}
<select data-placeholder="WÃ¤hlen Sie einen Kurs" class="chzn-select" tabindex="-1" id="select_course">
	<option value="{{ package.get_absolute_url }}">{{ package.title }}</option>
	{% for package_iter in package_list %}
	{% if package_iter != package %}
	<option value='{{ package_iter.get_absolute_url }}'>{{ package_iter.title }}</option>
	{% endif %}
	{% endfor %}
</select>
		
<h1>creyoco</h1>
<hr>
{% endblock %}

{% block box_left %}
<div style="position:fixed">
	<h2>Themenkatalog</h2>
	
	<div id="outline">
		{% render_outline package %}
		<hr style="border:1px solid white;width:168px;margin-left:0px;margin-top:40px;margin-bottom:15px;">
		<img id="settings_button" src="{% get_static_prefix %}images/mz/settings.png" style="cursor:pointer;margin-right:10px;" alt="Einstellungen">
		<img id="download_button" src="{% get_static_prefix %}images/mz/download.png" alt="Download" style="cursor:pointer">
		
		<div id="settings" style="margin-left:0;display:none;background-color:white;width:130px;border:1px solid rgb(155, 155, 155)">
			<!--<a href="#Add" id="btnAdd">Add</a><a href="#Remove" id="btnRemove">Remove</a><a href="#Rename" id="btnRename" action="RenameNode">Rename</a><a href="#Dublicate" id="btnDuplicate" action="DblNode">Duplicate</a><a id="btnPromote">Promote</a><a id="btnDemote" action="Demote">Demote</a><a id="btnUp" action="Up">Up</a><a id="btnDown" action="Down">Down</a>-->
			<a href="#Add" id="btnAdd">Hinzufuegen</a>
			<a href="#Remove" id="btnRemove">Loeschen</a>
			<a href="#Rename" id="btnRename" action="RenameNode">Umbenennen</a>
			<a href="#Dublicate" id="btnDuplicate" action="DblNode">Duplizieren</a>
			<a id="btnPromote">Promote</a>
			<a id="btnDemote" action="Demote">Demote</a>
			<a id="btnUp" action="Up">Up</a>
			<a id="btnDown" action="Down">Down</a>
		</div>
		
		<div id="download" style="margin-left:0;display:none;background-color:white;width:130px;border:1px solid rgb(155, 155, 155)">
			{% for type, title in exporter_type_title_map.items %}
			<a class="export_link" href="{% url exeapp.views.package.export package.id "" %}{{type}}">{{title}}</a>
			{% endfor %}
		</div>
	</div>
</div>
{% endblock %}

{% block box_right %}
<div style="position:fixed">
	<h2>Werkzeuge</h2>
	{% render_idevicepane idevices %}
</div>
{% endblock %}

{% block navi %}
<div id="navi">
	<div id="navi-left">
		<span class="button button_active"><a href="#_editor">Inhalt bearbeiten</a></span>
		
		<span class="button"><a href="#_theme">Ausgabe-Layout</a></span>
		
		<span class="button"><a href="#_preview">Vorschau</a></span>
	</div>
	
	<div id="navi-right">
		<span class="button"><a href="#_preferences">Projekt-Eigenschaften</a></span>
	</div>
</div>
{% endblock %}

{% block h2 %}Inhalt{% endblock %}

{% block content %}
<div id="selectStyle" style="display:none">
{% render_styles %}
</div>

<div style="width:100%;min-height:600px;" id="authoring" name="authoringIFrame1">
</div>

<div id="properties" style="display:none;">
	<div id="package_properties" style="float:left">
		<form id="properties_form" class="property_form" method="post" action=".#properties">
			{% if properties_form.errors %}
			<p>Please correct following error{{ properties_form.errors|pluralize }}</p>
			{% endif %}
				
			<table>
			{{ properties_form.as_table }}
			</table>
				
			<input type="submit" value="Apply" />
		</form>
	</div>
	
	<div id="dublincore" style="float:right">
		<form id="dublincore_form" class="property_form" method="post" action=".#properties">
			{% if dublincore_form.errors %}
			<p>Please correct following error{{ dublincore_form.errors|pluralize }}</p>
			{% endif %}
			
			<table>
				{{ dublincore_form.as_table }}
			</table>
			
			<input type="submit" value="Apply" />
		</form>
	</div>
	
	<div style="clear:both"></div>
</div>
{% endblock %}

{% block append %}
<div id="package_id" style="display: none">{{package.id}}</div>
<div id="package_style" style="display:none">{{package.style}}</div>
{% endblock %}